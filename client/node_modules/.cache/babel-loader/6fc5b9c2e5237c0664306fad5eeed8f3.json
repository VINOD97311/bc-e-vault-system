{"ast":null,"code":"var _jsxFileName = \"C:\\\\6th sem\\\\bc\\\\Crime-Records-Blockchain\\\\client\\\\src\\\\components\\\\CaseList.js\";\nimport React, { Component } from 'react';\n//import ViewCase from './ViewCase';\nimport { Link } from 'react-router';\nimport SimpleStorageContract from \"../contracts/SimpleStorage.json\";\nimport getWeb3 from \"../utils/getWeb3\";\nimport '../CSS/policeList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass CaseList extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      details: [],\n      getDetailsOf: null\n    };\n    this.componentDidMount = async () => {\n      try {\n        // Get network provider and web3 instance.\n        const web3 = await getWeb3();\n\n        // Use web3 to get the user's accounts.\n        const accounts = await web3.eth.getAccounts();\n\n        // Get the contract instance.\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = SimpleStorageContract.networks[networkId];\n        const instance = new web3.eth.Contract(SimpleStorageContract.abi, deployedNetwork && deployedNetwork.address);\n        // Set web3, accounts, and contract to the state, and then proceed with an\n        // example of interacting with the contract's methods.\n        this.setState({\n          web3,\n          accounts,\n          contract: instance\n        }, this.runExample);\n        this.getVal();\n\n        //   // bootstrap links\n        // const script1 = document.createElement(\"script\");\n        // const script2 = document.createElement(\"script\");\n        // const script3 = document.createElement(\"script\");\n\n        // const link = document.createElement(\"link\");\n\n        // script1.src = \"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\";\n        // script2.src = \"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\";\n        // script3.src = \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\";\n        // link.src = \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\";\n\n        // script1.async = true;\n        // script2.async = true;\n        // script3.async = true;\n        // link.async = true;\n\n        // document.body.appendChild(script1);\n        // document.body.appendChild(script2);\n        // document.body.appendChild(script3);\n        // document.body.appendChild(link);\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(\"Failed to load web3, accounts, or contract. Check console for details.\");\n        console.error(error);\n      }\n    };\n    this.getVal = async () => {\n      const {\n        accounts,\n        contract\n      } = this.state;\n      var response2 = await contract.methods.getAllCrimeDetails().call();\n      this.setState({\n        details: response2\n      });\n      console.log(this.state.details);\n    };\n    this.clicked = clicked => {\n      this.setState({\n        getDetailsOf: clicked\n      });\n    };\n  }\n  componentDidMount() {}\n  render() {\n    var arr = [];\n    var details = this.state.details;\n    for (var key in details) {\n      arr.push(details[key]);\n    }\n    const crimes = arr.length ? arr.map(arr => {\n      var toLink = \"forensicUpdate/\" + arr.crime_id;\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: toLink,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row listItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col s3 black-text\",\n              children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: arr.crime_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col s3 black-text \",\n              children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: arr.offense_code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col s3 black-text \",\n              children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: arr.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col s3 black-text \",\n              children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: arr.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this)\n        }, arr.crime_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No crimes!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notes\",\n      children: crimes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default CaseList;","map":{"version":3,"names":["React","Component","Link","SimpleStorageContract","getWeb3","jsxDEV","_jsxDEV","CaseList","constructor","arguments","state","details","getDetailsOf","componentDidMount","web3","accounts","eth","getAccounts","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","setState","contract","runExample","getVal","error","alert","console","response2","methods","getAllCrimeDetails","call","log","clicked","render","arr","key","push","crimes","length","map","toLink","crime_id","to","children","className","fileName","_jsxFileName","lineNumber","columnNumber","offense_code","description","timestamp"],"sources":["C:/6th sem/bc/Crime-Records-Blockchain/client/src/components/CaseList.js"],"sourcesContent":["import React, { Component } from 'react';\r\n//import ViewCase from './ViewCase';\r\nimport {Link} from 'react-router';\r\nimport SimpleStorageContract from \"../contracts/SimpleStorage.json\";\r\nimport getWeb3 from \"../utils/getWeb3\";\r\n\r\nimport '../CSS/policeList.css';\r\n\r\nclass CaseList extends Component{\r\n\r\n    state = {\r\n        details : [],\r\n        getDetailsOf: null\r\n    }\r\n\r\n    componentDidMount () {\r\n        \r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        try {\r\n          // Get network provider and web3 instance.\r\n          const web3 = await getWeb3(); \r\n\r\n          // Use web3 to get the user's accounts.\r\n          const accounts = await web3.eth.getAccounts();\r\n\r\n          // Get the contract instance.\r\n          const networkId = await web3.eth.net.getId();\r\n          const deployedNetwork = SimpleStorageContract.networks[networkId];\r\n          const instance = new web3.eth.Contract(\r\n            SimpleStorageContract.abi,\r\n            deployedNetwork && deployedNetwork.address,\r\n          );          \r\n          // Set web3, accounts, and contract to the state, and then proceed with an\r\n          // example of interacting with the contract's methods.\r\n          this.setState({ web3, accounts, contract: instance }, this.runExample);     \r\n          this.getVal();         \r\n\r\n\r\n        //   // bootstrap links\r\n        // const script1 = document.createElement(\"script\");\r\n        // const script2 = document.createElement(\"script\");\r\n        // const script3 = document.createElement(\"script\");\r\n\r\n        // const link = document.createElement(\"link\");\r\n\r\n        // script1.src = \"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\";\r\n        // script2.src = \"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\";\r\n        // script3.src = \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\";\r\n        // link.src = \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\";\r\n        \r\n        // script1.async = true;\r\n        // script2.async = true;\r\n        // script3.async = true;\r\n        // link.async = true;\r\n    \r\n        // document.body.appendChild(script1);\r\n        // document.body.appendChild(script2);\r\n        // document.body.appendChild(script3);\r\n        // document.body.appendChild(link);\r\n\r\n        } catch (error) {\r\n          // Catch any errors for any of the above operations.\r\n          alert(\r\n            `Failed to load web3, accounts, or contract. Check console for details.`,\r\n          );\r\n          console.error(error);\r\n        }\r\n      };\r\n\r\n      getVal= async () =>{\r\n        const { accounts, contract } = this.state;  \r\n                var response2 = await contract.methods.getAllCrimeDetails().call(); \r\n                this.setState({\r\n                    details: response2\r\n                });\r\n                console.log(this.state.details);             \r\n      };\r\n\r\n    render() {\r\n        var arr = [];\r\n        var details = this.state.details;\r\n        for (var key in details) {\r\n            arr.push(details[key]);\r\n        }\r\n\r\n        const crimes = arr.length ?\r\n        (\r\n            arr.map(arr => \r\n            {\r\n                var toLink = \"forensicUpdate/\" + arr.crime_id;\r\n            return (\r\n                <Link to = {toLink}>\r\n\r\n                <div className = \"card\" key = {arr.crime_id}>\r\n                <div className=\"row listItem\" >\r\n                        <div className=\"col s3 black-text\">\r\n                            <h6>{arr.crime_id}</h6>\r\n                        </div>\r\n                        <div className=\"col s3 black-text \">\r\n                            <h6>{arr.offense_code}</h6>\r\n                        </div>\r\n                        <div className=\"col s3 black-text \">\r\n                            <h6>{arr.description}</h6>\r\n                        </div>\r\n                        <div className=\"col s3 black-text \">\r\n                            <h6>{arr.timestamp}</h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </Link>\r\n                )\r\n            })\r\n        ):\r\n        (       \r\n                <div className=\"error\">\r\n                    <h3>No crimes!</h3>\r\n                </div>\r\n        )\r\n\r\n         return(\r\n            <div className=\"notes\">\r\n                {crimes}\r\n             </div>\r\n         )\r\n    }\r\n    clicked = (clicked) =>\r\n    {\r\n        this.setState({\r\n            getDetailsOf : clicked\r\n        })\r\n\r\n    }   \r\n}\r\n\r\nexport default CaseList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}