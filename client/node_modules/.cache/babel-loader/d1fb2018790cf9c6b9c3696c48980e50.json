{"ast":null,"code":"var _jsxFileName = \"C:\\\\6th sem\\\\bc\\\\Crime-Records-Blockchain\\\\client\\\\src\\\\components\\\\judgehome.js\";\nimport React, { Component } from 'react';\nimport SimpleStorageContract from \"../contracts/ForensicContract.json\";\nimport getWeb3 from \"../utils/getWeb3\";\nimport axios from 'axios';\nimport '../CSS/policeList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass JudgeHome extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      web3: null,\n      accounts: null,\n      contract: null,\n      crimeDetails: []\n    };\n    this.componentDidMount = async () => {\n      try {\n        const web3 = await getWeb3();\n        const accounts = await web3.eth.getAccounts();\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = SimpleStorageContract.networks[networkId];\n        const instance = new web3.eth.Contract(SimpleStorageContract.abi, deployedNetwork && deployedNetwork.address);\n        console.log('Contract Address:', deployedNetwork.address);\n        this.setState({\n          web3,\n          accounts,\n          contract: instance\n        }, this.loadCrimeDetails);\n      } catch (error) {\n        alert(\"Failed to load web3, accounts, or contract. Check console for details.\");\n        console.error(error);\n      }\n    };\n    this.loadCrimeDetails = async () => {\n      const {\n        contract\n      } = this.state;\n      const crimeCount = await contract.methods.getPatCount().call();\n      let crimeDetails = [];\n      for (let i = 0; i < crimeCount; i++) {\n        const crime = await contract.methods.getPat(i).call();\n        const fileUrl = \"https://gateway.pinata.cloud/ipfs/\" + crime[4];\n        crimeDetails.push({\n          crime_id: crime[0],\n          exhibit_name: crime[1],\n          desc: crime[2],\n          timestamp: crime[3],\n          fileUrl: fileUrl\n        });\n      }\n      this.setState({\n        crimeDetails\n      });\n    };\n  }\n  render() {\n    const {\n      crimeDetails\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Judge Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Crime ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Exhibit Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Timestamp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"File\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: crimeDetails.map((crime, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: crime.crime_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: crime.exhibit_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: crime.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: crime.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: crime.fileUrl,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: \"View File\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default JudgeHome;","map":{"version":3,"names":["React","Component","SimpleStorageContract","getWeb3","axios","jsxDEV","_jsxDEV","JudgeHome","constructor","arguments","state","web3","accounts","contract","crimeDetails","componentDidMount","eth","getAccounts","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","console","log","setState","loadCrimeDetails","error","alert","crimeCount","methods","getPatCount","call","i","crime","getPat","fileUrl","push","crime_id","exhibit_name","desc","timestamp","render","children","fileName","_jsxFileName","lineNumber","columnNumber","map","index","href","target","rel"],"sources":["C:/6th sem/bc/Crime-Records-Blockchain/client/src/components/judgehome.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport SimpleStorageContract from \"../contracts/ForensicContract.json\";\r\nimport getWeb3 from \"../utils/getWeb3\";\r\nimport axios from 'axios';\r\nimport '../CSS/policeList.css';\r\n\r\nclass JudgeHome extends Component {\r\n  state = {\r\n    web3: null,\r\n    accounts: null,\r\n    contract: null,\r\n    crimeDetails: [],\r\n  };\r\n  componentDidMount = async () => {\r\n    try {\r\n      const web3 = await getWeb3();\r\n      const accounts = await web3.eth.getAccounts();\r\n      const networkId = await web3.eth.net.getId();\r\n      const deployedNetwork = SimpleStorageContract.networks[networkId];\r\n      const instance = new web3.eth.Contract(\r\n        SimpleStorageContract.abi,\r\n        deployedNetwork && deployedNetwork.address,\r\n      );\r\n      console.log('Contract Address:', deployedNetwork.address);\r\n      this.setState({ web3, accounts, contract: instance }, this.loadCrimeDetails);\r\n    } catch (error) {\r\n      alert(`Failed to load web3, accounts, or contract. Check console for details.`);\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  loadCrimeDetails = async () => {\r\n    const { contract } = this.state;\r\n    const crimeCount = await contract.methods.getPatCount().call();\r\n    let crimeDetails = [];\r\n\r\n    for (let i = 0; i < crimeCount; i++) {\r\n      const crime = await contract.methods.getPat(i).call();\r\n      const fileUrl = \"https://gateway.pinata.cloud/ipfs/\" + crime[4];\r\n      crimeDetails.push({ \r\n        crime_id: crime[0], \r\n        exhibit_name: crime[1], \r\n        desc: crime[2], \r\n        timestamp: crime[3], \r\n        fileUrl: fileUrl \r\n      });\r\n    }\r\n    this.setState({ crimeDetails });\r\n  };\r\n  render() {\r\n    const { crimeDetails } = this.state;\r\n    return (\r\n      <div>\r\n        <h2>Judge Home</h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Crime ID</th>\r\n              <th>Exhibit Name</th>\r\n              <th>Description</th>\r\n              <th>Timestamp</th>\r\n              <th>File</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {crimeDetails.map((crime, index) => (\r\n              <tr key={index}>\r\n                <td>{crime.crime_id}</td>\r\n                <td>{crime.exhibit_name}</td>\r\n                <td>{crime.desc}</td>\r\n                <td>{crime.timestamp}</td>\r\n                <td><a href={crime.fileUrl} target=\"_blank\" rel=\"noopener noreferrer\">View File</a></td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default JudgeHome;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}